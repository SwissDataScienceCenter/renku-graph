include "service-commons.base.conf"

pidfile.path = "/dev/null"
play.http.context="/"

play.modules.enabled += "ch.datascience.triplesgenerator.FileEventLogModule"
play.modules.enabled += "ch.datascience.triplesgenerator.ServiceModule"

play.http.errorHandler = "ch.datascience.controllers.JsonHttpErrorHandler"

log-events-queue {
  buffer-size = 20
  buffer-size = ${?LOG_EVENTS_QUEUE_BUFFER_SIZE}
  triples-finder-parallelism = 20
  triples-finder-parallelism = ${?TRIPLES_FINDER_PARALLELISM}
  fuseki-upload-parallelism = 20
  fuseki-upload-parallelism = ${?FUSEKI_UPLOAD_PARALLELISM}
}

file-event-log {
  enabled = true
  enabled = ${?FILE_EVENT_LOG_ENABLED}
  file-path = "/tmp/renku-event.log"
  file-path = ${?FILE_EVENT_LOG_PATH}
  delete-on-exit = false
  delete-on-exit = ${?DELETE_ON_EXIT}
}

services {
  fuseki {
    url = "http://localhost:3030"
    url = ${?JENA_BASE_URL}
    dataset-name = "renku"
    dataset-name = ${?JENA_DATASET_NAME}
    dataset-type = "mem"
    dataset-type = ${?JENA_DATASET_TYPE}
    username = "admin"
    password = ${?JENA_ADMIN_PASSWORD}
  }

  gitlab {
    url = "https://renkulab.io/gitlab"
    url = ${?GITLAB_BASE_URL}
  }
}