include "service-commons.base.conf"

play.http.filters = "ch.datascience.webhookservice.Filters"

pidfile.path = "/dev/null"
play.http.context="/"

play.modules.enabled += "ch.datascience.webhookservice.FileEventLogModule"
play.modules.enabled += "ch.datascience.webhookservice.ServiceModule"

play.http.errorHandler = "ch.datascience.controllers.JsonHttpErrorHandler"

file-event-log {
  enabled = true
  enabled = ${?FILE_EVENT_LOG_ENABLED}
  file-path = "/tmp/renku-event.log"
  file-path = ${?FILE_EVENT_LOG_PATH}
  delete-on-exit = false
  delete-on-exit = ${?DELETE_ON_EXIT}
}

event-log {
  hook-access-token-secret = "eUF0aUo5cmdubUtkRmJyVw=="
  hook-access-token-secret = ${?HOOK_ACCESS_TOKEN_SECRET}
}

services {

  self {
    url = "http://localhost:9001"
    url = ${?SELF_URL}
  }

  gitlab {
    url = "https://renkulab.io/gitlab"
    url = ${?GITLAB_BASE_URL}
    hook-token-secret = "MTIzNDU2Nzg5MDEyMzQ1Ng=="
    hook-token-secret = ${?HOOK_TOKEN_SECRET}
  }
}
